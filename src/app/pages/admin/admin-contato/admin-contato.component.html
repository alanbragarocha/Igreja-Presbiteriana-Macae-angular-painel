<div class="contato-container">
  <div class="admin-header">
    <h2>Gerenciar Informações de Contato</h2>
    <a routerLink="/admin" class="btn-voltar">
      <i class="fa fa-arrow-left"></i> Voltar ao Dashboard
    </a>
  </div>

  <div class="card">
    <h3>Informações Básicas</h3>
    <form
      [formGroup]="contatoForm"
      (ngSubmit)="salvarInfoContato()"
      class="form"
    >
      <div class="form-group">
        <label for="endereco">Endereço</label>
        <input
          type="text"
          id="endereco"
          formControlName="endereco"
          class="form-control"
          [class.is-invalid]="
            contatoForm.get('endereco')?.invalid &&
            contatoForm.get('endereco')?.touched
          "
        />
        <div
          class="invalid-feedback"
          *ngIf="
            contatoForm.get('endereco')?.invalid &&
            contatoForm.get('endereco')?.touched
          "
        >
          O endereço é obrigatório.
        </div>
      </div>

      <div class="form-group">
        <label for="telefone">Telefone</label>
        <input
          type="text"
          id="telefone"
          formControlName="telefone"
          class="form-control"
          [class.is-invalid]="
            contatoForm.get('telefone')?.invalid &&
            contatoForm.get('telefone')?.touched
          "
        />
        <div
          class="invalid-feedback"
          *ngIf="
            contatoForm.get('telefone')?.invalid &&
            contatoForm.get('telefone')?.touched
          "
        >
          O telefone é obrigatório.
        </div>
      </div>

      <div class="form-group">
        <label for="email">E-mail</label>
        <input
          type="email"
          id="email"
          formControlName="email"
          class="form-control"
          [class.is-invalid]="
            contatoForm.get('email')?.invalid &&
            contatoForm.get('email')?.touched
          "
        />
        <div
          class="invalid-feedback"
          *ngIf="
            contatoForm.get('email')?.invalid &&
            contatoForm.get('email')?.touched
          "
        >
          <span *ngIf="contatoForm.get('email')?.errors?.['required']"
            >O e-mail é obrigatório.</span
          >
          <span *ngIf="contatoForm.get('email')?.errors?.['email']"
            >Informe um e-mail válido.</span
          >
        </div>
      </div>

      <div class="form-actions">
        <button
          type="submit"
          class="btn-primary"
          [disabled]="contatoForm.invalid || isSavingContato"
        >
          <span *ngIf="!isSavingContato">Salvar Informações</span>
          <span *ngIf="isSavingContato">Salvando...</span>
        </button>
      </div>

      <div class="alert alert-success" *ngIf="saveSuccessContato">
        Informações de contato atualizadas com sucesso!
      </div>
    </form>
  </div>

  <div class="card">
    <h3>Redes Sociais</h3>
    <form
      [formGroup]="redesForm"
      (ngSubmit)="salvarRedesSociais()"
      class="form"
    >
      <div class="form-group">
        <label for="facebook">Facebook</label>
        <input
          type="url"
          id="facebook"
          formControlName="facebook"
          class="form-control"
          [class.is-invalid]="
            redesForm.get('facebook')?.invalid &&
            redesForm.get('facebook')?.touched
          "
          placeholder="https://www.facebook.com/igrejapresbmacae"
        />
        <div
          class="invalid-feedback"
          *ngIf="
            redesForm.get('facebook')?.invalid &&
            redesForm.get('facebook')?.touched
          "
        >
          O link do Facebook é obrigatório.
        </div>
      </div>

      <div class="form-group">
        <label for="instagram">Instagram</label>
        <input
          type="url"
          id="instagram"
          formControlName="instagram"
          class="form-control"
          [class.is-invalid]="
            redesForm.get('instagram')?.invalid &&
            redesForm.get('instagram')?.touched
          "
          placeholder="https://www.instagram.com/igrejapresbmacae"
        />
        <div
          class="invalid-feedback"
          *ngIf="
            redesForm.get('instagram')?.invalid &&
            redesForm.get('instagram')?.touched
          "
        >
          O link do Instagram é obrigatório.
        </div>
      </div>

      <div class="form-group">
        <label for="youtube">YouTube</label>
        <input
          type="url"
          id="youtube"
          formControlName="youtube"
          class="form-control"
          [class.is-invalid]="
            redesForm.get('youtube')?.invalid &&
            redesForm.get('youtube')?.touched
          "
          placeholder="https://www.youtube.com/channel/igrejapresbmacae"
        />
        <div
          class="invalid-feedback"
          *ngIf="
            redesForm.get('youtube')?.invalid &&
            redesForm.get('youtube')?.touched
          "
        >
          O link do YouTube é obrigatório.
        </div>
      </div>

      <div class="form-group">
        <label for="whatsapp">WhatsApp (link)</label>
        <input
          type="url"
          id="whatsapp"
          formControlName="whatsapp"
          class="form-control"
          [class.is-invalid]="
            redesForm.get('whatsapp')?.invalid &&
            redesForm.get('whatsapp')?.touched
          "
          placeholder="https://wa.me/5522999999999"
        />
        <div
          class="invalid-feedback"
          *ngIf="
            redesForm.get('whatsapp')?.invalid &&
            redesForm.get('whatsapp')?.touched
          "
        >
          O link do WhatsApp é obrigatório.
        </div>
      </div>

      <div class="form-actions">
        <button
          type="submit"
          class="btn-primary"
          [disabled]="redesForm.invalid || isSavingRedes"
        >
          <span *ngIf="!isSavingRedes">Salvar Redes Sociais</span>
          <span *ngIf="isSavingRedes">Salvando...</span>
        </button>
      </div>

      <div class="alert alert-success" *ngIf="saveSuccessRedes">
        Informações de redes sociais atualizadas com sucesso!
      </div>
    </form>
  </div>

  <div class="tips-card">
    <h3>Dicas</h3>
    <ul>
      <li>
        Para o WhatsApp, use o formato: https://wa.me/5500000000000 (substitua
        pelos números corretos)
      </li>
      <li>Para o endereço, inclua o endereço completo com CEP</li>
      <li>
        Verifique se os links de redes sociais estão funcionando corretamente
      </li>
    </ul>
  </div>
</div>
