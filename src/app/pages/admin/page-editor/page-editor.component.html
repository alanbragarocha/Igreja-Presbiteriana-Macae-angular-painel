<div class="page-editor-container">
  <section class="editor-header">
    <div class="editor-title">
      <h2>Editor de Página: {{ pageTitle }}</h2>
      <div class="button-group">
        <button class="back-button" (click)="voltarParaListagem()">
          <i class="fas fa-arrow-left"></i> Voltar para a listagem
        </button>
        <a routerLink="/admin" class="dashboard-button">
          <i class="fa fa-tachometer"></i> Ir para Dashboard
        </a>
      </div>
    </div>

    <div class="search-container">
      <i class="fas fa-search search-icon"></i>
      <input
        #searchInput
        type="search"
        placeholder="Filtrar campos pelo nome ou conteúdo..."
        (input)="busca$.next(searchInput.value)"
        class="search-input"
      />
    </div>
  </section>

  <div class="editor-content">
    <article *ngFor="let item of filtrados$ | async" class="editor-item">
      <label>{{ item.slug }}</label>
      <textarea [(ngModel)]="item.valor" rows="4"></textarea>
      <button class="primary save-button" (click)="salvar(item)">
        <i class="fas fa-save"></i> Salvar
      </button>
    </article>

    <div *ngIf="(filtrados$ | async)?.length === 0" class="no-content">
      <p>Nenhum conteúdo encontrado para esta página.</p>
      <p>
        Adicione conteúdo navegando até esta página no site e usando a opção
        "Editar" nos componentes.
      </p>
    </div>
  </div>
</div>
